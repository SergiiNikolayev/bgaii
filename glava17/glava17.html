<!DOCTYPE html>
<html lang="en">

<head>


       <meta charset="utf-8">
       <meta name="viewport" content="width=device-width, initial-scale=1">
       <link rel="stylesheet" href="../jqm/jquery.mobile-1.4.5.min.css" />
       <script src="../jsScripts/myFunctions.js"></script>
       <script src="../jsScripts/jquery-2.2.4.min.js"></script>
       <script src="../jqm/jquery.mobile-1.4.5.min.js"></script>
       <script src="../jsScripts/winstore-jscompat.js"></script>1st jQuery, 2nd jquery Mobile, 3rd winstore-jscompat.js

       <title>Глава 17</title>


       
</head>
<body>
<div data-role="page">
    <div data-role="header"><h5>название 17 Главы</h5></div>
    <div data-role="content">
        <a href="../index.html" rel="external" class="ui-btn ui-btn-inline ui-mini ui-corner-all">выбрать Главу</a>
        <a href="#" rel="external" class="ui-btn ui-btn-inline ui-mini ui-corner-all">17.1</a>
        <a href="#" rel="external" class="ui-btn ui-btn-inline ui-mini ui-corner-all">17.2</a>
    </div>

    <ul data-role="listview" data-filter="true" data-filter-placeholder="Search fruits..." data-inset="true">
        <li style="display:none;"><a href="#"><p></p></a><b></b><span></span></li>
        <li><a href="#"><p></p></a><b></b><span></span></li>
        <li><a href="#"><p></p></a><b></b><span></span></li>
        <li><a href="#"><p></p></a><b></b><span></span></li>
        <li><a href="#"><p></p></a><b></b><span></span></li>
        <li><a href="#"><p></p></a><b></b><span></span></li>
    </ul>
    <ul id="list" data-id="17" onload="addLi()">   
    </ul>

    <button onclick="addLi()">Try it</button>

</div>

</body>
<script>

    /**
    var ul = document.getElementById("list");

    var chapterNumber = ul.getAttribute("data-id");
    var leng = jsonBg.chapter17.length - 1;
    var sh = jsonBg.chapter17[1].comm;

    function addLi() {

        for (i = 0; i < leng; i++) {
            var liCre = document.createElement("LI");
            ul.appendChild(liCre);
      //      var text = jsonBg.chapter17[i].id;
      //      liCre.appendChild(text);

        };

    };
    console.log(leng);
    console.log(sh);
    console.log("s");

   // ul.onload = function () { addLi() };

    setTimeout(function () {
        addLi();
    }, 800);

    $(document).ready(function () {
        console.log(leng);

    })
    */

    /** This block of code adding content to our list of li's from JSON file*/
    //after adding to main page rel="external" document ready work good with out refreshing the page

    $( document ).ready(function() {
        for(var i = 0; i < 6; i++){
            $("li b").eq(i).text(jsonBg.chapter17[i].id);
        };
        for(var i = 0; i < 6; i++){
            $("li p").eq(i).text(jsonBg.chapter17[i].shloka);
        };
        for(var i = 0; i < 6; i++){
            $("li span").eq(i).text(jsonBg.chapter17[i].tran);
        }


    }); 

/*    setTimeout(function() {
        $( document ).ready(function() {
        for(var i = 0; i < 6; i++){
            $("li a").eq(i).text(jsonBg.chapter17[i].shloka);
        }
    });
    }, 2000);*/

</script>
</html>